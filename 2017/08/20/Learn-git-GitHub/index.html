<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Learn git&amp;GitHub | SrtFrmGNU</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="[TOC] 本文参考书籍GitHub入门与实践整理所得，另外可以查阅Git Community Book中文版本以及外文版本资料链接 Git与GitHub1. 前言 GitHub：为开发者提供Git仓库的托管服务 在Git中,开发者将源代码存入名为“Git仓库”的资料库中并加以使用，而GitHub则是在网络上提供Git仓库的一项服务。也就是说，GitHub上公开的软件源代码全部都由Git进行管理。">
<meta name="keywords" content="Git">
<meta property="og:type" content="article">
<meta property="og:title" content="Learn git&amp;GitHub">
<meta property="og:url" content="http://yoursite.com/2017/08/20/Learn-git-GitHub/index.html">
<meta property="og:site_name" content="SrtFrmGNU">
<meta property="og:description" content="[TOC] 本文参考书籍GitHub入门与实践整理所得，另外可以查阅Git Community Book中文版本以及外文版本资料链接 Git与GitHub1. 前言 GitHub：为开发者提供Git仓库的托管服务 在Git中,开发者将源代码存入名为“Git仓库”的资料库中并加以使用，而GitHub则是在网络上提供Git仓库的一项服务。也就是说，GitHub上公开的软件源代码全部都由Git进行管理。">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://wx4.sinaimg.cn/mw690/7b8d2108gy1finusspugjj20ca0393yn.jpg">
<meta property="og:image" content="http://wx3.sinaimg.cn/mw690/7b8d2108gy1finust8aicj208z06omxh.jpg">
<meta property="og:image" content="http://wx4.sinaimg.cn/mw690/7b8d2108gy1fio0hrhdgij207f04i0sn.jpg">
<meta property="og:image" content="http://wx2.sinaimg.cn/mw690/7b8d2108gy1fio0hs14ebj205o04kq2u.jpg">
<meta property="og:image" content="http://wx1.sinaimg.cn/mw690/7b8d2108gy1fio0hsl49rj203u042744.jpg">
<meta property="og:image" content="http://wx3.sinaimg.cn/mw690/7b8d2108gy1fio0hs7325j2069067glk.jpg">
<meta property="og:image" content="http://wx1.sinaimg.cn/mw690/7b8d2108gy1fio0hsx4huj2061079t8p.jpg">
<meta property="og:image" content="http://wx2.sinaimg.cn/mw690/7b8d2108gy1fio0hte7ydj207g06tdft.jpg">
<meta property="og:image" content="http://wx3.sinaimg.cn/mw690/7b8d2108gy1fip24ft6cuj206z04t3yf.jpg">
<meta property="og:updated_time" content="2017-08-20T10:00:29.981Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Learn git&amp;GitHub">
<meta name="twitter:description" content="[TOC] 本文参考书籍GitHub入门与实践整理所得，另外可以查阅Git Community Book中文版本以及外文版本资料链接 Git与GitHub1. 前言 GitHub：为开发者提供Git仓库的托管服务 在Git中,开发者将源代码存入名为“Git仓库”的资料库中并加以使用，而GitHub则是在网络上提供Git仓库的一项服务。也就是说，GitHub上公开的软件源代码全部都由Git进行管理。">
<meta name="twitter:image" content="http://wx4.sinaimg.cn/mw690/7b8d2108gy1finusspugjj20ca0393yn.jpg">
  
    <link rel="alternate" href="/atom.xml" title="SrtFrmGNU" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">SrtFrmGNU</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Learn-git-GitHub" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/20/Learn-git-GitHub/" class="article-date">
  <time datetime="2017-08-20T09:59:26.000Z" itemprop="datePublished">2017-08-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Learn git&amp;GitHub
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<p><em>本文参考书籍<a href="https://book.douban.com/subject/26462816/" target="_blank" rel="external">GitHub入门与实践</a>整理所得，另外可以查阅Git Community Book中文版本以及外文版本<a href="http://gitbook.liuhui998.com/index.html" target="_blank" rel="external">资料链接</a></em></p>
<h1 id="Git与GitHub"><a href="#Git与GitHub" class="headerlink" title="Git与GitHub"></a>Git与GitHub</h1><h3 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a>1. 前言</h3><blockquote>
<p>GitHub：为开发者提供Git仓库的托管服务</p>
<p>在Git中,开发者将源代码存入名为“Git仓库”的资料库中并加以使用，而GitHub则是在网络上提供Git仓库的一项服务。也就是说，GitHub上公开的软件源代码全部都由Git进行管理。</p>
</blockquote>
<p>​    <strong>Pull Request</strong>指开发者在本地对源代码进行更改后，向GitHub中托管的Git仓库请求合并的功能。</p>
<hr>
<p>​    版本管理在开发一款软件中占据着非常重要的低位，其必不可少的原因在于：可以记录一款软件添加或更改源代码的过程，回滚到特定的阶段，恢复误删除的文件等等..</p>
<p>​    常规的版本管理分为集中型和分散型：</p>
<ul>
<li>集中型</li>
</ul>
<p>​        以Subversion为代表，其将仓库集中存放在服务器之中，具有便于管理的优点，但一旦开发者所处的环境不能连接服务器时，就无法获取最新的源代码，开发亦无法进行。</p>
<div align="center"><br><br><img src="http://wx4.sinaimg.cn/mw690/7b8d2108gy1finusspugjj20ca0393yn.jpg" alt="1.jpg"><br><br></div>

<ul>
<li>分散型</li>
</ul>
<p>​       以Git为代表的分散型如下：GitHub将仓库Fork给每一个用户，Fork就是将 GitHub 的某个特定仓库复制到 自己的账户下。 Fork 出的仓库与原仓库是两个不同的仓库，开发者可以 随意编辑</p>
<div align="center"><br><br><img src="http://wx3.sinaimg.cn/mw690/7b8d2108gy1finust8aicj208z06omxh.jpg" alt="2.jpg"><br><br></div>

<p>​    分散型具有多个仓库，相对较复杂，但因为可以Fork到本地的开发环境下，所以开发者不必连接远程仓库即可进行开发。</p>
<p><strong>导入与安装Git</strong> ：笔者为windows下的系统，下载链接如下：<a href="https://git-for-windows.github.io/" target="_blank" rel="external">链接</a> 详细安装过程若下：<a href="http://blog.csdn.net/renfufei/article/details/41647875/" target="_blank" rel="external">安装</a> 也可以参看书籍中的章节介绍–&gt;“GitHub入门与实践”</p>
<h4 id="1-1-必要设置"><a href="#1-1-必要设置" class="headerlink" title="1.1 必要设置"></a>1.1 必要设置</h4><p>​    注册github账号，安装好git后，首先应该设置SSH Key <a href="http://skypegnu1.blog.51cto.com/8991766/1641064/" target="_blank" rel="external">SSH 原理和基本使用</a></p>
<blockquote>
<p>加密传输的算法有好多，git可使用rsa，rsa要解决的一个核心问题是，如何使用一对特定的数字，使其中一个数字可以用来加密，而另外一个数字可以用来解密。这两个数字就是你在使用git和github的时候所遇到的public key也就是公钥以及private key私钥。</p>
<p>其中，公钥就是那个用来加密的数字，这也就是为什么你在本机生成了公钥之后，要上传到github的原因。从github发回来的，用那公钥加密过的数据，可以用你本地的私钥来还原。</p>
<p>如果你的key丢失了，不管是公钥还是私钥，丢失一个都不能用了，解决方法也很简单，重新再生成一次，然后在github.com里再设置一次就行</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ ssh-keygen -t rsa -C &quot;your_email@example.com&quot;</div><div class="line">Generating public/private rsa key pair.</div><div class="line">Enter file in which to save the key</div><div class="line">(/Users/your_user_directory/.ssh/id_rsa): 按回车键</div><div class="line">Enter passphrase (empty for no passphrase): 输入密码</div><div class="line">Enter same passphrase again: 再次输入密码</div></pre></td></tr></table></figure>
<p>​    “your_email@example.com”的部分修改为创建账户时所使用的邮箱地址，<strong>这里输入的密码一定要牢记，下面会反复使用到</strong>，当操作成功后会显示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Your identification has been saved in /Users/your_user_directory/.ssh/id_rsa.</div><div class="line">Your public key has been saved in /Users/your_user_directory/.ssh/id_rsa.pub.</div><div class="line">The key fingerprint is:</div><div class="line">fingerprint值 your_email@example.com</div><div class="line">The key&apos;s randomart image is:</div><div class="line">+--[ RSA 2048]----+</div><div class="line">| .+ + |</div><div class="line">| = o O . |</div><div class="line">略</div></pre></td></tr></table></figure>
<p>​    id_rsa 文件是私有密钥， id_rsa.pub 是公开密钥 。</p>
<h3 id="2-Git的基本操作"><a href="#2-Git的基本操作" class="headerlink" title="2. Git的基本操作"></a>2. Git的基本操作</h3><h6 id="git-init-—-初始化仓库"><a href="#git-init-—-初始化仓库" class="headerlink" title="git init —- 初始化仓库"></a><strong>git init</strong> —- 初始化仓库</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ mkdir git-tutorial</div><div class="line">$ cd git-tutorial</div><div class="line">$ git init</div></pre></td></tr></table></figure>
<p>​    上述代码新建了一个名为git-tutorial的文件夹，通过git init语句进行初始化操作，执行后，git-tutorial目录下生成.git目录：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Initialized empty Git repository in /Users/hirocaster/github/github-book</div><div class="line">/git-tutorial/.git/</div></pre></td></tr></table></figure>
<p>​    这个目录里存储着管理当前目录所需要的仓库数据，也被称为：附属于该仓库的工作树。因此若希望将文件恢复到原先的状态，可以从仓库中调取之前的快照，在工作树中打开。</p>
<h6 id="git-status-—-查看仓库的状态"><a href="#git-status-—-查看仓库的状态" class="headerlink" title="git status —- 查看仓库的状态"></a><strong>git status</strong> —- 查看仓库的状态</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ git status</div><div class="line"># On branch master</div><div class="line">#</div><div class="line"># Initial commit</div><div class="line">#</div><div class="line">nothing to commit (create/copy files and use &quot;git add&quot; to track)</div></pre></td></tr></table></figure>
<p>​    结果显示了我们当前正处于 master 分支下。（分支 会在之后讲到）还显示了没有可提交的内容。 </p>
<p>​    因此，我们建立 README.md 文件作为管理对 象，为第一次提交做前期准备 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ touch README.md</div><div class="line">$ git status</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"># On branch master</div><div class="line">#</div><div class="line"># Initial commit</div><div class="line">## Untracked files:# (use &quot;git add &lt;file&gt;...&quot; to include in what will</div><div class="line">be committed)#</div><div class="line"># README.md</div><div class="line">nothing added to commit but untracked files present (use &quot;git add&quot; to</div><div class="line">track)</div></pre></td></tr></table></figure>
<p>​    可以看到在 Untracked files 中显示了 README.md 文件 。</p>
<h6 id="git-add-—–-向暂存区中添加文件"><a href="#git-add-—–-向暂存区中添加文件" class="headerlink" title="git add —– 向暂存区中添加文件"></a><strong>git add</strong> —– 向暂存区中添加文件</h6><p>​       若只是在Git仓库的工作树中创建文件，该文件并不会被记入Git仓库的版本管理对象当中，用git status查看会显示在Untracked files里。如果想让文件成为Git仓库的管理对象，就需要git add命令将其加入暂存区（Stage或Index中）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">$ git add README.md</div><div class="line">$ git status</div><div class="line"># On branch master</div><div class="line">#</div><div class="line"># Initial commit</div><div class="line">#</div><div class="line"># Changes to be committed:</div><div class="line"># (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage)</div><div class="line">#</div><div class="line"># new file: README.md</div><div class="line">#</div></pre></td></tr></table></figure>
<p>​    可以看到， README.md 文件显示在 Changes to be committed 中了。 </p>
<h6 id="git-commit-—-保存仓库的历史记录"><a href="#git-commit-—-保存仓库的历史记录" class="headerlink" title="git commit —- 保存仓库的历史记录"></a><strong>git commit</strong> —- 保存仓库的历史记录</h6><p>  ​    git commit命令可以将当前暂存区中的文件实际保存到仓库的历史记录中，通过这些历史记录我们可以在工作树中复原文件。</p>
<ul>
<li><p>记录一行的提交信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ git commit -m &quot;First commit&quot;</div><div class="line">[master (root-commit) 9f129ba] First commit</div><div class="line">1 file changed, 0 insertions(+), 0 deletions(-)</div><div class="line">create mode 100644 README.md</div></pre></td></tr></table></figure>
<p>-m参数后的“First commit”称作提交信息。如果在编辑器启动后想中止提交，请将提交信息留空并直接关闭编辑器，随后提交就会被中止。 </p>
</li>
</ul>
<h6 id="git-log-—–-查看提交日志"><a href="#git-log-—–-查看提交日志" class="headerlink" title="git log —– 查看提交日志"></a><strong>git log</strong> —– 查看提交日志</h6><p>​       git log命令可以查看以往仓库中提交的日志 ，可以查看什么人在什么时候进行了提交或合并，以及操作前后有怎样的差别 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$ git log</div><div class="line"></div><div class="line">commit 9f129bae19b2c82fb4e98cde5890e52a6c546922</div><div class="line">Author: hirocaster &lt;hohtsuka@gmail.com&gt;</div><div class="line">Date: Sun May 5 16:06:49 2013 +0900</div><div class="line"></div><div class="line">	First commit</div></pre></td></tr></table></figure>
<p>​    Author 栏中显示我们给 Git 设置的用户名和邮箱地址。 Date 栏中显示提交执行的日期和时间。再往下就是该提交的提交信息 。</p>
<p><em>只显示提交信息的第一行</em></p>
<p>​    如果只想让程序显示第一行简述信息(date行略去)，可以在 git log命令后加上 –pretty=short </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ git log --pretty=short</div><div class="line"></div><div class="line">commit 9f129bae19b2c82fb4e98cde5890e52a6c546922</div><div class="line">Author: hirocaster &lt;hohtsuka@gmail.com&gt;</div><div class="line"></div><div class="line">	First commit</div></pre></td></tr></table></figure>
<p><em>仅显示指定目录、文件和日志</em></p>
<p>​    只要在 git log命令后加上目录名，便会只显示该目录下的日志 ，若加的是文件名，就会只显示与该文件相关的日志。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git log README.md</div></pre></td></tr></table></figure>
<p><em>显示文件的改动</em></p>
<p>​    如果想查看提交所带来的改动，可以加上 -p参数，文件的前后差别就会显示在提交信息之后 ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git log -p</div></pre></td></tr></table></figure>
<h6 id="git-diff-—-查看更改前后的差别"><a href="#git-diff-—-查看更改前后的差别" class="headerlink" title="git diff —- 查看更改前后的差别"></a><strong>git diff</strong> —- 查看更改前后的差别</h6><p>​       git diff命令可以查看工作树、暂存区、最新提交之间的差别 ，我们现在向README.md文件中加入了一行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"># Git教程</div></pre></td></tr></table></figure>
<p>​    执行 git diff命令，查看当前工作树与暂存区的差别 ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">$ git diff</div><div class="line"></div><div class="line">diff --git a/README.md b/README.md</div><div class="line">index e69de29..cb5dc9f 100644</div><div class="line">--- a/README.md</div><div class="line">+++ b/README.md</div><div class="line">@@ -0,0 +1 @@</div><div class="line">+# Git教程</div></pre></td></tr></table></figure>
<p>​    解释一下显示的内容。“+”号标出的是新添加的行，被删除的行则用“-”号标出。我们可以看到，这次只添加了一行。 在执行 git commit命令之前先执行git diff HEAD命令，查看本次提交与上次提交之间有什么差别，等<br>确认完毕后再进行提交。这里的 HEAD 是指向当前分支中最新一次提交的指针。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">$ git diff HEAD</div><div class="line"></div><div class="line">diff --git a/README.md b/README.md</div><div class="line">index e69de29..cb5dc9f 100644</div><div class="line">--- a/README.md</div><div class="line">+++ b/README.md</div><div class="line">@@ -0,0 +1 @@</div><div class="line">+# Git教程</div></pre></td></tr></table></figure>
<h3 id="3-分支的操作"><a href="#3-分支的操作" class="headerlink" title="3. 分支的操作"></a>3. 分支的操作</h3><p>​    master 分支是 Git 默认创建的分支，因此基本上所有开发都是以这个分支为中心进行的 ，从 master 分支创<br>建 feature-A 分支和 fix-B 分支后，每个分支中都拥有自己的最新代码 。不同分支中，可以同时进行完全不同的作业。等该分支的作业完成之后再与 master 分支合并 ，利用分支可以使并行开发更加高效。</p>
<div align="center"><br><br><img src="http://wx4.sinaimg.cn/mw690/7b8d2108gy1fio0hrhdgij207f04i0sn.jpg" alt="1.jpg"><br><br></div>

<h6 id="git-branch-—-显示分支一览表"><a href="#git-branch-—-显示分支一览表" class="headerlink" title="git branch —- 显示分支一览表"></a><strong>git branch</strong> —- 显示分支一览表</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git branch</div><div class="line">* master</div></pre></td></tr></table></figure>
<p>​    master 分支左侧标有“*”（星号），表示这是我们当前所在的分支。 结果中没显示其他的分支名，表示本地仓库中只存在master一个分支。</p>
<h6 id="git-checkout-b-—-创建、切换分支"><a href="#git-checkout-b-—-创建、切换分支" class="headerlink" title="git checkout -b —- 创建、切换分支"></a><strong>git checkout -b</strong> —- 创建、切换分支</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git checkout -b feature-A</div><div class="line">Switched to a new branch &apos;feature-A&apos;</div></pre></td></tr></table></figure>
<p>​    此时当前分支自动切换到了feature-A分支：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ git branch</div><div class="line">* feature-A</div><div class="line">	master</div></pre></td></tr></table></figure>
<p>​    在这个状态下像正常开发那样修改代码、执行 git add命令并进行提交的话，代 码 就 会 提 交 至 feature-A 分 支。 </p>
<p>​    现在我们在之前的README.md中添加一行feature-A，进行提交：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ git add README.md</div><div class="line">$ git commit -m &quot;Add feature-A&quot;</div><div class="line">[feature-A 8a6c8b9] Add feature-A</div><div class="line"> 1 file changed, 2 insertions(+)</div></pre></td></tr></table></figure>
<hr>
<p>​    现在我们切换到master分支下，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git checkout master</div><div class="line">Switched to branch &apos;master&apos;</div></pre></td></tr></table></figure>
<p>​    现在我们再打开README.md文档，会发现并没有添加文字。</p>
<p>​    现在在回到上一分支下，即feature-A分支下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git checkout -</div><div class="line">Switched to branch &apos;feature-A&apos;</div></pre></td></tr></table></figure>
<p>​    用“-”（连字符）代替分支名，就可以切换至上一个分支。当然，我们直接输入 feature-A 同样可以切换到 feature-A 分支。 </p>
<hr>
<h6 id="特性分支（Topic）"><a href="#特性分支（Topic）" class="headerlink" title="特性分支（Topic）"></a><strong>特性分支</strong>（Topic）</h6><p>  特性分支顾名思义，是集中实现单一特性（主题），除此之外不进行任何作业的分支。 </p>
<div align="center"><br><br><img src="http://wx2.sinaimg.cn/mw690/7b8d2108gy1fio0hs14ebj205o04kq2u.jpg" alt="2.jpg"><br><br></div>

<p>​    之前我们创建了 feature-A 分支，这一分支主要实现 feature-A，除feature-A 的实现之外不进行任何作业。即便在开发过程中发现了 BUG，也需要再创建新的分支，在新分支中进行修正。 </p>
<h6 id="主干分支-master"><a href="#主干分支-master" class="headerlink" title="主干分支-master"></a><strong>主干分支</strong>-master</h6><p>​       主干分支是刚才我们讲解的特性分支的原点，同时也是合并的终点。通常人们会用 master 分支作为主干分支。主干分支中并没有开发到一半的代码，可以随时供他人查看。 </p>
<h6 id="git-merge-—-合并分支"><a href="#git-merge-—-合并分支" class="headerlink" title="git merge —- 合并分支"></a><strong>git merge</strong> —- 合并分支</h6><p>​       假设 feature-A 已经实现完毕，想要将它合并到主干分支 master 中。首先切换到 master 分支 ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git checkout master</div><div class="line">Switched to branch &apos;master&apos;</div></pre></td></tr></table></figure>
<p>​    下面合并 feature-A 分支。为了在历史记录中明确记录下本次分支合并，我们需要创建合并提交。因此，在合并时加上 –no-ff参数。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git merge --no-ff feature-A</div></pre></td></tr></table></figure>
<p>​    随后进入编辑器状态（笔者的电脑默认打开的是VIM编辑器），vim基本命令：<a href="http://www.cnblogs.com/usergaojie/p/4583796.html" target="_blank" rel="external">链接</a> ，默认信息中已经包含了是从 feature-A 分支合并过来的相关内容，所以可以不做任何更改，将编辑器中显示的内容保存，关闭编辑器（-wq）。 会看到以下的结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Merge made by the &apos;recursive&apos; strategy.</div><div class="line"> README.md | 2 ++</div><div class="line"> 1 file changed, 2 insertions(+)</div></pre></td></tr></table></figure>
<h6 id="git-log-–graph-—-以图表形式查看分支"><a href="#git-log-–graph-—-以图表形式查看分支" class="headerlink" title="git log –graph —- 以图表形式查看分支"></a><strong>git log –graph</strong> —- 以图表形式查看分支</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">$ git log --graph</div><div class="line">* commit 83b0b94268675cb715ac6c8a5bc1965938c15f62</div><div class="line">|\ Merge: fd0cbf0 8a6c8b9</div><div class="line">| | Author: hirocaster &lt;hohtsuka@gmail.com&gt;</div><div class="line">| | Date: Sun May 5 16:37:57 2013 +0900</div><div class="line">| |</div><div class="line">| | Merge branch &apos;feature-A&apos;</div><div class="line">| |</div><div class="line">| * commit 8a6c8b97c8962cd44afb69c65f26d6e1a6c088d8</div><div class="line">|/ Author: hirocaster &lt;hohtsuka@gmail.com&gt;</div><div class="line">| Date: Sun May 5 16:22:02 2013 +0900</div><div class="line">|</div><div class="line">| 		Add feature-A</div><div class="line">|</div><div class="line">* commit fd0cbf0d4a25f747230694d95cac1be72d33441d</div><div class="line">| Author: hirocaster &lt;hohtsuka@gmail.com&gt;</div><div class="line">| Date: Sun May 5 16:10:15 2013 +0900</div><div class="line">|</div><div class="line">|	    Add index</div><div class="line">|</div><div class="line">* commit 9f129bae19b2c82fb4e98cde5890e52a6c546922</div><div class="line">Author: hirocaster &lt;hohtsuka@gmail.com&gt;</div><div class="line">Date: Sun May 5 16:06:49 2013 +0900</div><div class="line"></div><div class="line">		First commit</div></pre></td></tr></table></figure>
<p>​    git log –graph命令可以用图表形式输出提交日志，非常直观！</p>
<h3 id="4-更改提交操作"><a href="#4-更改提交操作" class="headerlink" title="4. 更改提交操作"></a>4. 更改提交操作</h3><h6 id="git-reset-—-回溯历史版本"><a href="#git-reset-—-回溯历史版本" class="headerlink" title="git reset — 回溯历史版本"></a><strong>git reset</strong> — 回溯历史版本</h6><p>​       Git 的另一特征便是可以灵活操作历史版本。借助分散仓库的优势，可以在不影响其他仓库的前提下对历史版本进行操作。 </p>
<p>​    先创建为一个名为fix-B的特性分支：</p>
<div align="center"><br><br><img src="http://wx1.sinaimg.cn/mw690/7b8d2108gy1fio0hsl49rj203u042744.jpg" alt="3.jpg"><br><br></div>

<p>​    要让仓库的 HEAD、暂存区、当前工作树回溯到指定状态，需要用到 git rest –hard命令。只要提供目标时间点的哈希值  ，就可以完全恢复至该时间点的状态。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git reset --hard fd0cbf0d4a25f747230694d95cac1be72d33441d</div><div class="line">HEAD is now at fd0cbf0 Add inde</div></pre></td></tr></table></figure>
<p>​    由于所有文件都回溯到了指定哈希值对应的时间点上， README.md 文件的内容也恢复到了当时的状态。 </p>
<p>​    创建fix-B分支：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git checkout -b fix-B</div><div class="line">Switched to a new branch &apos;fix-B&apos;</div></pre></td></tr></table></figure>
<p>​    在 README.md 文件中添加一行文字 ：- fix-B，接着提交README.md ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ git add README.md</div><div class="line"></div><div class="line">$ git commit -m &quot;Fix B&quot;</div><div class="line">[fix-B 4096d9e] Fix B</div><div class="line"> 1 file changed, 2 insertions(+)</div></pre></td></tr></table></figure>
<div align="center"><br><br><img src="http://wx3.sinaimg.cn/mw690/7b8d2108gy1fio0hs7325j2069067glk.jpg" alt="4.jpg"><br><br></div>

<p>​    我们对于fix-B分支的下一步目标：</p>
<div align="center"><br><br><img src="http://wx1.sinaimg.cn/mw690/7b8d2108gy1fio0hsx4huj2061079t8p.jpg" alt="5.jpg"><br><br></div>

<p>​    首先恢复到 feature-A 分支合并后的状态。不妨称这一操作为“推进历史”。 </p>
<p>​    <strong>git log</strong>命令只能查看以当前状态为终点的历史日志。所以这里要使用 <strong>git reflog</strong>命令，查看当前仓库的操作日志。在日志中找出回溯历史之前的哈希值，通过 <strong>git reset –hard</strong>命令恢复到回溯历史前的状态 ！</p>
<p>​    通过git reflog命令查看当前仓库执行过的操作日志：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">$ git reflog</div><div class="line">4096d9e HEAD@&#123;0&#125;: commit: Fix B</div><div class="line">fd0cbf0 HEAD@&#123;1&#125;: checkout: moving from master to fix-B</div><div class="line">fd0cbf0 HEAD@&#123;2&#125;: reset: moving to fd0cbf0d4a25f747230694d95cac1be72d33441d</div><div class="line">83b0b94 HEAD@&#123;3&#125;: merge feature-A: Merge made by the &apos;recursive&apos; strategy.</div><div class="line">fd0cbf0 HEAD@&#123;4&#125;: checkout: moving from feature-A to master</div><div class="line">8a6c8b9 HEAD@&#123;5&#125;: checkout: moving from master to feature-A</div><div class="line">fd0cbf0 HEAD@&#123;6&#125;: checkout: moving from feature-A to master</div><div class="line">8a6c8b9 HEAD@&#123;7&#125;: commit: Add feature-A</div><div class="line">fd0cbf0 HEAD@&#123;8&#125;: checkout: moving from master to feature-A</div><div class="line">fd0cbf0 HEAD@&#123;9&#125;: commit: Add index</div><div class="line">9f129ba HEAD@&#123;10&#125;: commit (initial): First commit</div></pre></td></tr></table></figure>
<p>​    在日志中，我们可以看到 commit、 checkout、 reset、 merge 等 Git 命令的执行记录。只要不进行 Git 的 GC（Garbage Collection，垃圾回收），就可以通过日志随意调取近期的历史状态 。即便开发者错误执行了 Git 操作，基本也都可以利用 git reflog命令恢复到原先的状态，所以务必牢记本部分！</p>
<p>​    上面第四行表示 feature-A 特性分支合并后的状态，对应哈希值为 83b0b94 ，将 HEAD、暂存区、工作树恢复到这个时间点的状态。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ git checkout master</div><div class="line">$ git reset --hard 83b0b94</div><div class="line">HEAD is now at 83b0b94 Merge branch &apos;feature-A&apos;</div></pre></td></tr></table></figure>
<p>​    当前状态为：</p>
<div align="center"><br><br><img src="http://wx2.sinaimg.cn/mw690/7b8d2108gy1fio0hte7ydj207g06tdft.jpg" alt="6.jpg"><br><br></div>

<p>​    现在只要合并 fix-B 分支，就可以得到我们想要的状态 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ git merge --no-ff fix-B</div><div class="line">Auto-merging README.md</div><div class="line">CONFLICT (content): Merge conflict in README.md</div><div class="line">Recorded preimage for &apos;README.md&apos;</div><div class="line">Automatic merge failed; fix conflicts and then commit the result.</div></pre></td></tr></table></figure>
<p>​    系统告诉我们 README.md 文件发生了冲突（Conflict）。系统在合并 README.md 文件时， feature-A 分支更改的部分与本次想要合并的 fix-B 分支更改的部分发生了冲突 ，不解决冲突就无法完成合并，所以我们打开 README.md 文件，解决这个冲突。 (cat、vim指令可以打开)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"># Git教程</div><div class="line"></div><div class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</div><div class="line">  - feature-A</div><div class="line">=======</div><div class="line">  - fix-B</div><div class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt; fix-B</div></pre></td></tr></table></figure>
<p>​    ======= 以上的部分是当前 HEAD 的内容，以下的部分是要合并的 fix-B 分支中的内容。修改文档后，执行 git add命令与 git commit命令 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">git add README.md</div><div class="line"></div><div class="line">$ git commit -m &quot;Fix conflict&quot;</div><div class="line">Recorded resolution for &apos;README.md&apos;.</div><div class="line"> [master 6a97e48] Fix conflict</div></pre></td></tr></table></figure>
<h6 id="git-commit-–amend-—-修改提交信息"><a href="#git-commit-–amend-—-修改提交信息" class="headerlink" title="git commit –amend —- 修改提交信息"></a><strong>git commit –amend</strong> —- 修改提交信息</h6><p>​       我们将上一条提交信息记为了 “Fix conflict”，但它其实是 fix-B 分支的合并，解决合并时发生的冲突只是过程之一，这样标记实在不妥。于是，我们要修改这条提交信息。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git commit --amend</div></pre></td></tr></table></figure>
<p>​    此时进入vim编辑器模式，我们将Fix conflict 修改为Merge branch ‘fix-B’ 即可。（按照之前的vim命令链接操作，1、光标选中Fix后，按“i”键，进入写模式，删除第一行，添加即可，2、按下ESC键，进入编辑模式，输入:wq保存退出）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Fix conflict</div><div class="line"></div><div class="line"># Please enter the commit message for your changes. Lines starting</div><div class="line"># with &apos;#&apos; will be ignored, and an empty message aborts the commit.</div><div class="line"># On branch master</div><div class="line"># Changes to be committed:</div><div class="line">#   （use &quot;git reset HEAD^1 &lt;file&gt;...&quot; to unstage)</div><div class="line">#</div><div class="line">#     modified: README.md</div><div class="line">#</div></pre></td></tr></table></figure>
<h6 id="git-rebase-i-—-压缩历史"><a href="#git-rebase-i-—-压缩历史" class="headerlink" title="git rebase -i —- 压缩历史"></a><strong>git rebase -i</strong> —- 压缩历史</h6><p>​       在合并特性分支之前，如果发现已提交的内容中有些许拼写错误等，不妨提交一个修改，然后将这个修改包含到前一个提交之中，压缩成一个历史记录。 </p>
<p>​    首先创建特性分支feature-C：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git checkout -b feature-C</div><div class="line">Switched to a new branch &apos;feature-C&apos;</div></pre></td></tr></table></figure>
<p>​    此外打开REDME.md文档故意添加一行错误的文字: - faeture-C ，提交这个小小的变更没必要先执行 git add命令再执行 git commit命令，我们用 <strong>git commit -am</strong>命令来一次完成这两步操作。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ git commit -am &quot;Add feature-C&quot;</div><div class="line">[feature-C 7a34294] Add feature-C</div><div class="line">1 file changed, 1 insertion(+)</div></pre></td></tr></table></figure>
<p>​    现在来修正刚才预留的拼写错误，修正后的差别为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">$ git diff</div><div class="line">diff --git a/README.md b/README.md</div><div class="line">index ad19aba..af647fd 100644</div><div class="line">--- a/README.md</div><div class="line">+++ b/README.md</div><div class="line">@@ -2,4 +2,4 @@</div><div class="line"></div><div class="line">  - feature-A</div><div class="line">  - fix-B</div><div class="line">- - faeture-C</div><div class="line">+ - feature-C</div></pre></td></tr></table></figure>
<p>​    我们将提交信息记为 “Fix typo” 进行提交。</p>
<p>​    实际上，我们不希望在历史记录中看到这类提交 ，所以我们要更改历史。</p>
<h6 id="更改历史"><a href="#更改历史" class="headerlink" title="更改历史"></a><strong>更改历史</strong></h6><p>​    更改历史，将 “ Fix typo”修正的内容与之前一次的提交合并，在历史记录中合并为一次完美的提交。为此，我们要用到git rebase命令。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git rebase -i Head~2</div></pre></td></tr></table></figure>
<p><em>注：此处为波浪~符号，而非减法-号</em></p>
<p>​    此时编辑器显示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">pick 7a34294 Add feature-C</div><div class="line">pick 6fba227 Fix typo</div><div class="line"></div><div class="line"></div><div class="line"># Rebase 2e7db6f..6fba227 onto 2e7db6f</div><div class="line">#</div><div class="line"># Commands:</div><div class="line"># p, pick = use commit</div><div class="line"># r, reword = use commit, but edit the commit message</div><div class="line"># e, edit = use commit, but stop for amending</div><div class="line"># s, squash = use commit, but meld into previous commit</div><div class="line"># f, fixup = like &quot;squash&quot;, but discard this commit&apos;s log message</div><div class="line"># x, exec = run command (the rest of the line) using shell</div><div class="line">#</div><div class="line"># These lines can be re-ordered; they are executed from top to bottom.</div><div class="line">#</div><div class="line"># If you remove a line here THAT COMMIT WILL BE LOST.</div><div class="line">#</div><div class="line"># However, if you remove everything, the rebase will be aborted.</div><div class="line">#</div><div class="line"># Note that empty commits are commented out</div></pre></td></tr></table></figure>
<p>​    我们将 6fba227 的 Fix typo 的历史记录压缩到 7a34294 的 Add feature-C里。按照下图所示，将 6fba227 左侧的 pick 部分删除，改写为 fixup，保存好编辑器后：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[detached HEAD 51440c5] Add feature-C</div><div class="line"> 1 file changed, 1 insertion(+)</div><div class="line">Successfully rebased and updated refs/heads/feature-C.</div></pre></td></tr></table></figure>
<p>​    再次查看日志有：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">$ git log --graph</div><div class="line">* commit 51440c55b23fa7fa50aedf20aa43c54138171137</div><div class="line">| Author: hirocaster &lt;hohtsuka@gmail.com&gt;</div><div class="line">| Date: Sun May 5 17:07:36 2013 +0900</div><div class="line">|</div><div class="line">| Add feature-C</div><div class="line">|</div><div class="line">* commit 2e7db6fb0b576e9946965ea680e4834ee889c9d8</div><div class="line">|\ Merge: 83b0b94 4096d9e</div><div class="line">| | Author: hirocaster &lt;hohtsuka@gmail.com&gt;</div><div class="line">| | Date: Sun May 5 16:58:27 2013 +0900</div><div class="line">| |</div><div class="line">| | Merge branch &apos;fix-B&apos;</div><div class="line">| |</div><div class="line">| * commit 4096d9e856995a1aafa982aabb52bfc0da656b74</div><div class="line">| | Author: hirocaster &lt;hohtsuka@gmail.com&gt;</div><div class="line">| | Date: Sun May 5 16:50:31 2013 +0900</div><div class="line">| |</div><div class="line">| | Fix B</div><div class="line">省略</div></pre></td></tr></table></figure>
<p>​    现在将feature-C分支合并到master分支中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$ git checkout master</div><div class="line">Switched to branch &apos;master&apos;</div><div class="line"></div><div class="line">$ git merge --no-ff feature-C</div><div class="line">Merge made by the &apos;recursive&apos; strategy.</div><div class="line"> README.md | 1 +</div><div class="line"> 1 file changed, 1 insertion(+)</div></pre></td></tr></table></figure>
<h3 id="5-推送至远程仓库"><a href="#5-推送至远程仓库" class="headerlink" title="5. 推送至远程仓库"></a>5. 推送至远程仓库</h3><p>​    在GitHub上首先创建同为git-tutorial的仓库，基本步骤为：打开注册好的GitHub网页，点击右上角工具栏的New repository图标，如下：</p>
<div align="center"><br><br><img src="http://wx3.sinaimg.cn/mw690/7b8d2108gy1fip24ft6cuj206z04t3yf.jpg" alt="1.jpg"><br><br></div>

<p>​    对新建仓库命名，但此时不需要勾选Initialize this repository with a README 选项 。</p>
<h6 id="git-remote-add-—-添加远程仓库"><a href="#git-remote-add-—-添加远程仓库" class="headerlink" title="git remote add —- 添加远程仓库"></a><strong>git remote add</strong> —- 添加远程仓库</h6><p>​       在 GitHub 上创建的仓库路径为“git@github.com:用户名 /git-tutorial.git”。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git remote add origin git@github.com:github-book/git-tutorial.git</div></pre></td></tr></table></figure>
<p>​    执行 git remote add命令之后， Git 会自动将git@github.com:github-book/git-tutorial.git远程仓库的<br>名称设置为 origin 。</p>
<h6 id="git-push-—-推送至远程仓库"><a href="#git-push-—-推送至远程仓库" class="headerlink" title="git push —- 推送至远程仓库"></a><strong>git push</strong> —- 推送至远程仓库</h6><p>​       想要将本地仓库中的内容推送给远程仓库需要用到git  push命令。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$ git push -u origin master</div><div class="line"></div><div class="line">Counting objects: 20, done.</div><div class="line">Delta compression using up to 8 threads.</div><div class="line">Compressing objects: 100% (10/10), done.</div><div class="line">Writing objects: 100% (20/20), 1.60 KiB, done.</div><div class="line">Total 20 (delta 3), reused 0 (delta 0)</div><div class="line">To git@github.com:github-book/git-tutorial.git</div><div class="line">* [new branch] master -&gt; master</div><div class="line">Branch master set up to track remote branch master from origin.</div></pre></td></tr></table></figure>
<p>​    执行 git push命令，当前分支的内容就会被推送给远程仓库origin 的 master 分支。 <strong>-u参数</strong>可以在推送的同时，将 origin 仓库的 master 分支设置为本地仓库当前分支的 upstream（上游）。添加了这个参数，将来<br>运行 git pull命令从远程仓库获取内容时，本地仓库的这个分支就可以直接从 origin 的 master 分支获取内容，省去了另外添加参数的麻烦。 </p>
<p>​    <strong>推送至master以外的分支</strong></p>
<p>​    现在我们新建了feature-D的分支，并以同名形式推送到远程仓库：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git checkout -b feature-D</div><div class="line">Switched to a new branch &apos;feature-D&apos;</div></pre></td></tr></table></figure>
<p>​    现在我们已经在本地建立了分支D，push一下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ git push -u origin feature-D</div><div class="line">Total 0 (delta 0), reused 0 (delta 0)</div><div class="line">To git@github.com:github-book/git-tutorial.git</div><div class="line">  * [new branch] feature-D -&gt; feature-D</div><div class="line">Branch feature-D set up to track remote branch feature-D from origin.</div></pre></td></tr></table></figure>
<h3 id="6-从远程仓库获取"><a href="#6-从远程仓库获取" class="headerlink" title="6. 从远程仓库获取"></a>6. 从远程仓库获取</h3><h6 id="git-clone-—-获取远程仓库"><a href="#git-clone-—-获取远程仓库" class="headerlink" title="git clone —- 获取远程仓库"></a><strong>git clone</strong> —- 获取远程仓库</h6><p>  切换到其他的目录下，将GitHub上的仓库clone到本地：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">$ git clone git@github.com:github-book/git-tutorial.git</div><div class="line">Cloning into &apos;git-tutorial&apos;...</div><div class="line">remote: Counting objects: 20, done.</div><div class="line">remote: Compressing objects: 100% (7/7), done.</div><div class="line">remote: Total 20 (delta 3), reused 20 (delta 3)</div><div class="line">Receiving objects: 100% (20/20), done.</div><div class="line">Resolving deltas: 100% (3/3), done.</div><div class="line">$ cd git-tutorial</div></pre></td></tr></table></figure>
<p>​    clone后我们默认是在master的分支下，同时系统会自动将 origin 设置成该远程仓库的标识符。 也就是说，当前本地仓库的 master 分支与 GitHub 端远程仓库（origin）的 master 分支在内容上是完全相同的。 </p>
<p>​    用 git branch -a命令查看当前分支的相关信息。添加 -a参数可以同时显示本地仓库和远程仓库的分支信息 ：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ git branch -a</div><div class="line">* master</div><div class="line">	remotes/origin/HEAD -&gt; origin/master</div><div class="line">	remotes/origin/feature-D</div><div class="line">	remotes/origin/master</div></pre></td></tr></table></figure>
<p>​    <strong>获取远程feature-D分支</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ git checkout -b feature-D origin/feature-D</div><div class="line">Branch feature-D set up to track remote branch feature-D from origin.</div><div class="line">Switched to a new branch &apos;feature-D&apos;</div></pre></td></tr></table></figure>
<p>​    -b 参数的后面是本地仓库中新建分支的名称 ，我们依然对它命名为feature-D，整体的意思是指定了 origin/feature-D，就是说以名为 origin 的仓库（这里指 GitHub 端的仓库）的 feature-D 分支为来源，在本地仓库中创建 feature-D 分支。 </p>
<p>​    <strong>修改本地feature-D分支后再做提交</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">$ git diff</div><div class="line">diff --git a/README.md b/README.md</div><div class="line">index af647fd..30378c9 100644</div><div class="line">--- a/README.md</div><div class="line">+++ b/README.md</div><div class="line">@@ -3,3 +3,4 @@</div><div class="line">  - feature-A</div><div class="line">  - fix-B</div><div class="line">  - feature-C</div><div class="line">+ - feature-D</div><div class="line"></div><div class="line">$ git commit -am &quot;Add feature-D&quot;</div><div class="line">[feature-D ed9721e] Add feature-D</div><div class="line"> 1 file changed, 1 insertion(+)</div></pre></td></tr></table></figure>
<p>​    <strong>推送feature-D分支</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">$ git push</div><div class="line">Counting objects: 5, done.</div><div class="line">Delta compression using up to 8 threads.</div><div class="line">Compressing objects: 100% (2/2), done.</div><div class="line">Writing objects: 100% (3/3), 281 bytes, done.</div><div class="line">Total 3 (delta 1), reused 0 (delta 0)</div><div class="line">To git@github.com:github-book/git-tutorial.git</div><div class="line">	ca0f98b..ed9721e feature-D -&gt; feature-D</div></pre></td></tr></table></figure>
<blockquote>
<p>从远程仓库获取 feature-D 分支，在本地仓库中提交更改，再将feature-D 分支推送回远程仓库，通过这一系列操作，就可以与其他开发者相互合作，共同培育 feature-D 分支，实现某些功能。 </p>
</blockquote>
<h6 id="git-pull-—-获取最新的远程仓库分支"><a href="#git-pull-—-获取最新的远程仓库分支" class="headerlink" title="git pull —- 获取最新的远程仓库分支"></a><strong>git pull</strong> —- 获取最新的远程仓库分支</h6><p>​       现在回到最起先的目录下，这里仅仅创建feature-D分支，未对其进行修改，而远程仓库中已经有了新的动态，我们要把这里的分支更新。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">$ git pull origin feature-D</div><div class="line">remote: Counting objects: 5, done.</div><div class="line">remote: Compressing objects: 100% (1/1), done.</div><div class="line">remote: Total 3 (delta 1), reused 3 (delta 1)</div><div class="line">Unpacking objects: 100% (3/3), done.</div><div class="line">From github.com:github-book/git-tutorial</div><div class="line"> * branch feature-D -&gt; FETCH_HEAD</div><div class="line"> First, rewinding head to replay your work on top of it...</div><div class="line"> Fast-forwarded feature-D to ed9721e686f8c588e55ec6b8071b669f411486b8.</div></pre></td></tr></table></figure>
<p>​    今后只需要像平常一样在本地进行提交再 push 给远程仓库，就可以与其他开发者同时在同一个分支中进行<br>作业，不断给 feature-D 增加新功能。 </p>
<blockquote>
<p>如果两人同时修改了同一部分的源代码， push 时就很容易发生冲突。所以多名开发者在同一个分支中进行作业时，为减少冲突情况的发生，建议更频繁地进行 push 和 pull 操作。 </p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/08/20/Learn-git-GitHub/" data-id="cj6kkbe720000egqnqkpropgn" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/">Git</a></li></ul>

    </footer>
  </div>
  
    
  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Git/" style="font-size: 10px;">Git</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/08/20/Learn-git-GitHub/">Learn git&amp;GitHub</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Xiaolu Ding<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>